(()=>{var e={902:()=>{},56:()=>{},865:()=>{},33:()=>{},40:()=>{}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,r),c.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=require("express");var t=r.n(e);const n=require("cors");var a=r.n(n);const c=require("react");var l=r.n(c);const o=require("react-redux"),i=require("react-dom/server"),s=require("react-router-dom"),u=require("react-router"),m=require("redux"),p=require("redux-thunk");var d=r.n(p);const v=require("redux-devtools-extension"),E=require("@babel/runtime/helpers/defineProperty");var h=r.n(E);const f=require("@babel/runtime/helpers/asyncToGenerator");var g=r.n(f);const y=require("@babel/runtime/regenerator");var b=r.n(y);const P=require("axios");var S=r.n(P),N="GET_ARTICLES",O="SET_SEARCHVALUE",q="SET_SORTBY",x="SET_CURRENTPAGE",R="SET_POSTSPERPAGE",w="SET_ISLOADING";function T(e){return{type:q,sortBy:e}}function A(e){return{type:x,currentPage:e}}function L(e){return{type:R,postsPerPage:e}}function j(e){return{type:w,isLoading:e}}function B(e,t,r,n){return function(){var a=g()(b().mark((function a(c){return b().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(j(!0)),a.next=3,S().get("".concat(process.env.API_URL,"v2/everything?q=").concat(e,"&apiKey=").concat(process.env.API_KEY,"&sortBy=").concat(t,"&pageSize=").concat(n,"&page=").concat(r)).then((function(e){return c({type:N,data:e.data})}));case 3:c(j(!1));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D={};const k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return C(C({},e),{},{searchValue:t.searchValue});case q:return C(C({},e),{},{sortBy:t.sortBy});case x:return C(C({},e),{},{currentPage:t.currentPage});case R:return C(C({},e),{},{postsPerPage:t.postsPerPage});case w:return C(C({},e),{},{isLoading:t.isLoading});case N:return C(C({},e),{},{data:t.data.articles,totalResults:t.data.totalResults});default:return e}};var I={data:[],searchValue:"",isLoading:!1,sortBy:"relevancy",currentPage:1,totalResults:"***",postsPerPage:20};const U=require("serialize-javascript");var G=r.n(U);const K=require("react-transition-group");var V=r(33),H=r.n(V),F=r(902),W=r.n(F);const Y=function(){return l().createElement("div",{className:W().aboutContainer},l().createElement("h1",null,"About Us"),l().createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."))},z=require("styled-content-loader");var M=r.n(z),Q=r(56),X=r.n(Q);const Z=function(){var e=(0,o.useSelector)((function(e){return e.data})),t=(0,o.useSelector)((function(e){return e.currentPage})),r=(0,o.useSelector)((function(e){return e.totalResults}));return l().createElement("div",null,"Page ",t," of ",r,l().createElement("div",{className:X().container},e.map((function(e,t){var r=e.author,n=e.title,a=e.description,c=e.publishedAt,o=e.urlToImage;return l().createElement("div",{className:X().wrapper,key:t},l().createElement(s.Link,{style:{textDecoration:"none"},to:"/details/".concat(n)},l().createElement("img",{className:X().image,src:o,alt:n}),l().createElement("div",{className:X().alldesc},l().createElement("div",{className:X().title},n),l().createElement("div",{className:X().description},a),l().createElement("div",{className:X().author},"by ",r),l().createElement("div",{className:X().published},c.slice(0,-4).replace("T","  ")))))}))))};var J=r(40),$=r.n(J);const ee=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)((function(e){return e.searchValue})),r=(0,o.useSelector)((function(e){return e.sortBy})),n=(0,o.useSelector)((function(e){return e.currentPage})),a=(0,o.useSelector)((function(e){return e.postsPerPage})),c=(0,o.useSelector)((function(e){return e.isLoading})),i=function(){var c=g()(b().mark((function c(l){return b().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l.preventDefault(),c.next=3,e(B(t,r,n,a));case 3:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return l().createElement("main",null,l().createElement("div",{className:$().searchWrapper},l().createElement("form",{className:$().searchBar,onSubmit:i},l().createElement("label",{className:$().placeholder,htmlFor:"sortBy"},"Sort by:   ",l().createElement("select",{"data-testid":"sort-by",className:$().input,name:"sortBy",value:r,onChange:function(t){return e(T(t.target.value))},onBlur:function(t){return e(T(t.target.value))}},l().createElement("option",null,"relevancy"),l().createElement("option",null,"popularity"),l().createElement("option",null,"publishedAt"))),l().createElement("label",{className:$().placeholder,htmlFor:"numberOfResults"},"Results per page:   ",l().createElement("select",{"data-testid":"results",className:$().input,name:"numberOfResults",value:a,onChange:function(t){return e(L(t.target.value))},onBlur:function(t){return e(L(t.target.value))}},l().createElement("option",null,"20"),l().createElement("option",null,"30"),l().createElement("option",null,"50"))),l().createElement("label",{className:$().placeholder,htmlFor:"pagination"},"Page #: ",l().createElement("input",{className:$().input2,name:"pagination",value:n,onChange:function(t){return e(A(t.target.value))},onBlur:function(t){return e(A(t.target.value))}})),l().createElement("input",{name:"headerSearch",type:"text",id:$().headerSearch,placeholder:"Search...",value:t,onChange:function(t){return e((r=t.target.value,{type:O,searchValue:r}));var r},required:!0}),l().createElement("button",{type:"submit",id:$().submit},l().createElement("i",{className:"fas fa-search"})))),l().createElement("div",{className:$().selectPage}),l().createElement(M(),{isLoading:c},l().createElement(Z,null)))};var te=r(865),re=r.n(te);const ne=function(){return l().createElement("div",{className:re().container},l().createElement("h1",null,"Oops! It seems you got lost..."),l().createElement("img",{src:"https://media.giphy.com/media/A9EcBzd6t8DZe/giphy.gif",alt:"404",width:"400px",height:"400px"}))},ae=require("@babel/runtime/helpers/slicedToArray");var ce=r.n(ae);const le=function(){var e=(0,s.useParams)().id,t=(0,c.useState)([]),r=ce()(t,2),n=r[0],a=r[1];return l().useEffect((function(){S().get("".concat(process.env.API_URL,"v2/everything?q=").concat(e,"&apiKey=").concat(process.env.API_KEY)).then((function(e){a(e.data.articles[0])}))}),[e]),l().createElement("div",null,l().createElement("h1",null,"Requested topic ID: ",e),l().createElement("img",{src:n.urlToImage,alt:n.title,style:{maxWidth:800}}),l().createElement("div",null,"Title: ",n.title),l().createElement("div",null,"Author: ",n.author),l().createElement("div",null,"Description: ",n.description),l().createElement("div",null,"Published: ",n.publishedAt),l().createElement("div",null,"Content: ",n.content))};function oe(){var e=(0,s.useLocation)();return l().createElement(K.TransitionGroup,{className:H().container},l().createElement(K.CSSTransition,{key:e.key,classNames:"fade",timeout:300},l().createElement(s.Switch,{location:e},l().createElement(s.Route,{exact:!0,path:"/"},l().createElement(ee,null)),l().createElement(s.Route,{exact:!0,path:"/about"},l().createElement(Y,null)),l().createElement(s.Route,{exact:!0,path:"/details/:id"},l().createElement(le,null)),l().createElement(s.Route,{path:"*"},l().createElement(ne,null)),l().createElement(s.Route,{path:"*"},l().createElement(ne,null)))))}const ie=function(){return l().createElement(s.BrowserRouter,null,l().createElement("header",{className:H().header},l().createElement("nav",null,l().createElement("ul",{className:H().list},l().createElement("li",null,l().createElement(s.NavLink,{className:H().headerButton,activeClassName:H().selected,exact:!0,to:"/"},"Home")),l().createElement("li",null,l().createElement(s.NavLink,{className:H().headerButton,activeClassName:H().selected,to:"/about"},"About"))))),l().createElement(oe,null))};var se=t()();se.use(a()()),se.use(t().static("dist")),se.get("*",(function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return(0,m.createStore)(k,e,(0,v.composeWithDevTools)((0,m.applyMiddleware)(d())))}(),n=(0,i.renderToString)(l().createElement(o.Provider,{store:r},l().createElement(s.BrowserRouter,{history:u.browserHistory},l().createElement("div",{className:"App"},l().createElement(ie,null)))));return t.send(function(e,t){return'\n  <!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <link rel="shortcut icon" href="#" type="image/x-icon" />\n    <link\n      rel="stylesheet"\n      href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"\n      integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"\n      crossorigin="anonymous"\n    />\n    <title>React SSR</title>\n  </head>\n\n  <body>\n    <div id="root">'.concat(void 0,'</div>\n  </body>\n  <script src="/main.js" defer><\/script>\n  <script>window.__PRELOADED_STATE__ = ').concat(G()(e.getState()),"<\/script>\n</html>")}({store:r,content:n}))})),se.listen(3e3,(function(){console.log("Server is listening on port: 3000")}))})()})();